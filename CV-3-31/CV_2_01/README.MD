# CV-2-01 / TASK CV-1-05 (Coins Contour Detection)

Программа выполняет **поиск контуров на изображении**, фильтрацию их по площади и отрисовку только подходящих контуров на изображении с сохранением результата.

## Установка зависимостей (*из корня*)

```bash
pip install -r requirements.txt
```
## Запуск (*из корня*)
```bash
python3 -m size_sort
```

## Основная функция:
```python
count = sorted_conturs(image_path, output_path, min_size, max_size)
```
*Принимает:*
- image_path – путь к исходному изображению, которое будет обработано
- output_path – путь, по которому будет сохранено изображение с отрисованными контурами
- min_size – минимальная площадь контура для фильтрации
- max_size – максимальная площадь контура для фильтрации

*Возвращает:*
- count – количество найденных и отфильтрованных объектов (контуров), площадь которых находится в пределах [min_size, max_size].

## Пример использования
```python
from size_sort import sorted_conturs

input_image = "input_data/res.png"
output_image = "output_data/image_1.png"

count = sorted_conturs(input_image, output_image, 100, 5000)
print("Количество объектов:", count)
```

### Описание работы программы
- Загружает изображение в цвете
- Преобразует его в grayscale для поиска контуров
- Использует функцию counting_contours для поиска всех внешних контуров с фильтрацией по площади
- Граничные значения площади передаются int аргументы (здесь: min=100, max=5000)
- Рисует только подходящие контуры на цветном изображении (зелёным цветом)
- Сохраняет результат в указанный путь
- Возвращает количество найденных объектов

## Обработка ошибок
- Если изображение не найдено → выводится сообщение `File error: Image not found: <путь>` и возвращается `0`
- Если OpenCV не может обработать изображение → выводится сообщение `OpenCV error: <подробности>` и возвращается `0`
- Любые другие ошибки → выводится сообщение `Unexpected error: <подробности>` и возвращается `0`
- Папка для сохранения результата создаётся автоматически, если её не было


